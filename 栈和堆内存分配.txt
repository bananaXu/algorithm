堆”和“栈”并不是数据结构上的Heap跟Stack，而是程序运行中的不同内存空间。
那么这就简单了，栈是程序启动的时候，系统分好了给你的，你自己用，系统不干预。
堆是用的时候才向系统申请的，用完了还回去，这个申请和交还的过程开销相对就比较大了。
栈中主要存放一些基本类型的变量（,int, short, long, byte, float, double, bool, char）。 存在栈中的数据可以共享。栈的优势是，存取速度比堆要快，仅次于寄存器，栈数据可以共享。但缺点是，存在栈中的数据大小与生存期必须是确定的，缺乏灵活性。
堆是一个运行时数据区,类的(对象从中分配空间。由于要在运行时动态分配内存，存取速度较慢。 存在栈中的数据可以共享。
栈是编译时分配空间，而堆是动态分配（运行时分配空间），所以栈的速度快
cpu有专门的寄存器（esp，ebp）来操作栈，堆都是使用间接寻址的。栈快点

内存分配方式有三种：
（1）从静态存储区域分配。内存在程序编译的时候就已经分配好，这块内存在程序的整个运行期间都存在。例如全局变量，static变量。 （2）在栈上创建。在执行函数时，函数内局部变量的存储单元都可以在栈上创建，函数执行结束时这些存储单元自动被释放。栈内存分配运算内置于处理器的指令集中，效率很高，但是分配的内存容量有限。
（3）从堆上分配，亦称动态内存分配。程序在运行的时候用malloc或new申请任意多少的内存，程序员自己负责在何时用free或delete释放内存。动态内存的生存期由我们决定，使用非常灵活，但问题也最多。